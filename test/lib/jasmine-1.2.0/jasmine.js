var e=typeof window=="undefined",t={};e&&(exports.jasmine=t),t.unimplementedMethod_=function(){throw new Error("unimplemented method")},t.undefined=t.___undefined___,t.VERBOSE=!1,t.DEFAULT_UPDATE_INTERVAL=250,t.DEFAULT_TIMEOUT_INTERVAL=5e3,t.getGlobal=function(){function e(){return this}return e()},t.bindOriginal_=function(e,n){var r=e[n];return r.apply?function(){return r.apply(e,arguments)}:t.getGlobal()[n]},t.setTimeout=t.bindOriginal_(t.getGlobal(),"setTimeout"),t.clearTimeout=t.bindOriginal_(t.getGlobal(),"clearTimeout"),t.setInterval=t.bindOriginal_(t.getGlobal(),"setInterval"),t.clearInterval=t.bindOriginal_(t.getGlobal(),"clearInterval"),t.MessageResult=function(e){this.type="log",this.values=e,this.trace=new Error},t.MessageResult.prototype.toString=function(){var e="";for(var n=0;n<this.values.length;n++)n>0&&(e+=" "),t.isString_(this.values[n])?e+=this.values[n]:e+=t.pp(this.values[n]);return e},t.ExpectationResult=function(e){this.type="expect",this.matcherName=e.matcherName,this.passed_=e.passed,this.expected=e.expected,this.actual=e.actual,this.message=this.passed_?"Passed.":e.message;var t=e.trace||new Error(this.message);this.trace=this.passed_?"":t},t.ExpectationResult.prototype.toString=function(){return this.message},t.ExpectationResult.prototype.passed=function(){return this.passed_},t.getEnv=function(){var e=t.currentEnv_=t.currentEnv_||new t.Env;return e},t.isArray_=function(e){return t.isA_("Array",e)},t.isString_=function(e){return t.isA_("String",e)},t.isNumber_=function(e){return t.isA_("Number",e)},t.isA_=function(e,t){return Object.prototype.toString.apply(t)==="[object "+e+"]"},t.pp=function(e){var n=new t.StringPrettyPrinter;return n.format(e),n.string},t.isDomNode=function(e){return e.nodeType>0},t.any=function(e){return new t.Matchers.Any(e)},t.objectContaining=function(e){return new t.Matchers.ObjectContaining(e)},t.Spy=function(e){this.identity=e||"unknown",this.isSpy=!0,this.plan=function(){},this.mostRecentCall={},this.argsForCall=[],this.calls=[]},t.Spy.prototype.andCallThrough=function(){return this.plan=this.originalValue,this},t.Spy.prototype.andReturn=function(e){return this.plan=function(){return e},this},t.Spy.prototype.andThrow=function(e){return this.plan=function(){throw e},this},t.Spy.prototype.andCallFake=function(e){return this.plan=e,this},t.Spy.prototype.reset=function(){this.wasCalled=!1,this.callCount=0,this.argsForCall=[],this.calls=[],this.mostRecentCall={}},t.createSpy=function(e){var n=function(){n.wasCalled=!0,n.callCount++;var e=t.util.argsToArray(arguments);return n.mostRecentCall.object=this,n.mostRecentCall.args=e,n.argsForCall.push(e),n.calls.push({object:this,args:e}),n.plan.apply(this,arguments)},r=new t.Spy(e);for(var i in r)n[i]=r[i];return n.reset(),n},t.isSpy=function(e){return e&&e.isSpy},t.createSpyObj=function(e,n){if(!t.isArray_(n)||n.length===0)throw new Error("createSpyObj requires a non-empty array of method names to create spies for");var r={};for(var i=0;i<n.length;i++)r[n[i]]=t.createSpy(e+"."+n[i]);return r},t.log=function(){var e=t.getEnv().currentSpec;e.log.apply(e,arguments)};var n=function(e,n){return t.getEnv().currentSpec.spyOn(e,n)};e&&(exports.spyOn=n);var r=function(e,n){return t.getEnv().it(e,n)};e&&(exports.it=r);var i=function(e,n){return t.getEnv().xit(e,n)};e&&(exports.xit=i);var s=function(e){return t.getEnv().currentSpec.expect(e)};e&&(exports.expect=s);var o=function(e){t.getEnv().currentSpec.runs(e)};e&&(exports.runs=o);var u=function(e){t.getEnv().currentSpec.waits(e)};e&&(exports.waits=u);var a=function(e,n,r){t.getEnv().currentSpec.waitsFor.apply(t.getEnv().currentSpec,arguments)};e&&(exports.waitsFor=a);var f=function(e){t.getEnv().beforeEach(e)};e&&(exports.beforeEach=f);var l=function(e){t.getEnv().afterEach(e)};e&&(exports.afterEach=l);var c=function(e,n){return t.getEnv().describe(e,n)};e&&(exports.describe=c);var h=function(e,n){return t.getEnv().xdescribe(e,n)};e&&(exports.xdescribe=h),t.XmlHttpRequest=typeof XMLHttpRequest=="undefined"?function(){function e(e){try{return e()}catch(t){}return null}var t=e(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||e(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||e(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||e(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!t)throw new Error("This browser does not support XMLHttpRequest.");return t}:XMLHttpRequest,t.util={},t.util.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.util.formatException=function(e){var t;e.line?t=e.line:e.lineNumber&&(t=e.lineNumber);var n;e.sourceURL?n=e.sourceURL:e.fileName&&(n=e.fileName);var r=e.name&&e.message?e.name+": "+e.message:e.toString();return n&&t&&(r+=" in "+n+" (line "+t+")"),r},t.util.htmlEscape=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},t.util.argsToArray=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);return t},t.util.extend=function(e,t){for(var n in t)e[n]=t[n];return e},t.Env=function(){this.currentSpec=null,this.currentSuite=null,this.currentRunner_=new t.Runner(this),this.reporter=new t.MultiReporter,this.updateInterval=t.DEFAULT_UPDATE_INTERVAL,this.defaultTimeoutInterval=t.DEFAULT_TIMEOUT_INTERVAL,this.lastUpdate=0,this.specFilter=function(){return!0},this.nextSpecId_=0,this.nextSuiteId_=0,this.equalityTesters_=[],this.matchersClass=function(){t.Matchers.apply(this,arguments)},t.util.inherit(this.matchersClass,t.Matchers),t.Matchers.wrapInto_(t.Matchers.prototype,this.matchersClass)},t.Env.prototype.setTimeout=t.setTimeout,t.Env.prototype.clearTimeout=t.clearTimeout,t.Env.prototype.setInterval=t.setInterval,t.Env.prototype.clearInterval=t.clearInterval,t.Env.prototype.version=function(){if(t.version_)return t.version_;throw new Error("Version not set")},t.Env.prototype.versionString=function(){if(!t.version_)return"version unknown";var e=this.version(),n=e.major+"."+e.minor+"."+e.build;return e.release_candidate&&(n+=".rc"+e.release_candidate),n+=" revision "+e.revision,n},t.Env.prototype.nextSpecId=function(){return this.nextSpecId_++},t.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++},t.Env.prototype.addReporter=function(e){this.reporter.addReporter(e)},t.Env.prototype.execute=function(){this.currentRunner_.execute()},t.Env.prototype.describe=function(e,n){var r=new t.Suite(this,e,n,this.currentSuite),i=this.currentSuite;i?i.add(r):this.currentRunner_.add(r),this.currentSuite=r;var s=null;try{n.call(r)}catch(o){s=o}return s&&this.it("encountered a declaration exception",function(){throw s}),this.currentSuite=i,r},t.Env.prototype.beforeEach=function(e){this.currentSuite?this.currentSuite.beforeEach(e):this.currentRunner_.beforeEach(e)},t.Env.prototype.currentRunner=function(){return this.currentRunner_},t.Env.prototype.afterEach=function(e){this.currentSuite?this.currentSuite.afterEach(e):this.currentRunner_.afterEach(e)},t.Env.prototype.xdescribe=function(e,t){return{execute:function(){}}},t.Env.prototype.it=function(e,n){var r=new t.Spec(this,this.currentSuite,e);return this.currentSuite.add(r),this.currentSpec=r,n&&r.runs(n),r},t.Env.prototype.xit=function(e,t){return{id:this.nextSpecId(),runs:function(){}}},t.Env.prototype.compareObjects_=function(e,n,r,i){if(e.__Jasmine_been_here_before__===n&&n.__Jasmine_been_here_before__===e)return!0;e.__Jasmine_been_here_before__=n,n.__Jasmine_been_here_before__=e;var s=function(e,n){return e!==null&&e[n]!==t.undefined};for(var o in n)!s(e,o)&&s(n,o)&&r.push("expected has key '"+o+"', but missing from actual.");for(o in e)!s(n,o)&&s(e,o)&&r.push("expected missing key '"+o+"', but present in actual.");for(o in n){if(o=="__Jasmine_been_here_before__")continue;this.equals_(e[o],n[o],r,i)||i.push("'"+o+"' was '"+(n[o]?t.util.htmlEscape(n[o].toString()):n[o])+"' in expected, but was '"+(e[o]?t.util.htmlEscape(e[o].toString()):e[o])+"' in actual.")}return t.isArray_(e)&&t.isArray_(n)&&e.length!=n.length&&i.push("arrays were not the same length"),delete e.__Jasmine_been_here_before__,delete n.__Jasmine_been_here_before__,r.length===0&&i.length===0},t.Env.prototype.equals_=function(e,n,r,i){r=r||[],i=i||[];for(var s=0;s<this.equalityTesters_.length;s++){var o=this.equalityTesters_[s],u=o(e,n,this,r,i);if(u!==t.undefined)return u}return e===n?!0:e===t.undefined||e===null||n===t.undefined||n===null?e==t.undefined&&n==t.undefined:t.isDomNode(e)&&t.isDomNode(n)?e===n:e instanceof Date&&n instanceof Date?e.getTime()==n.getTime():e.jasmineMatches?e.jasmineMatches(n):n.jasmineMatches?n.jasmineMatches(e):e instanceof t.Matchers.ObjectContaining?e.matches(n):n instanceof t.Matchers.ObjectContaining?n.matches(e):t.isString_(e)&&t.isString_(n)?e==n:t.isNumber_(e)&&t.isNumber_(n)?e==n:typeof e=="object"&&typeof n=="object"?this.compareObjects_(e,n,r,i):e===n},t.Env.prototype.contains_=function(e,n){if(t.isArray_(e)){for(var r=0;r<e.length;r++)if(this.equals_(e[r],n))return!0;return!1}return e.indexOf(n)>=0},t.Env.prototype.addEqualityTester=function(e){this.equalityTesters_.push(e)},t.Reporter=function(){},t.Reporter.prototype.reportRunnerStarting=function(e){},t.Reporter.prototype.reportRunnerResults=function(e){},t.Reporter.prototype.reportSuiteResults=function(e){},t.Reporter.prototype.reportSpecStarting=function(e){},t.Reporter.prototype.reportSpecResults=function(e){},t.Reporter.prototype.log=function(e){},t.Block=function(e,t,n){this.env=e,this.func=t,this.spec=n},t.Block.prototype.execute=function(e){try{this.func.apply(this.spec)}catch(t){this.spec.fail(t)}e()},t.JsApiReporter=function(){this.started=!1,this.finished=!1,this.suites_=[],this.results_={}},t.JsApiReporter.prototype.reportRunnerStarting=function(e){this.started=!0;var t=e.topLevelSuites();for(var n=0;n<t.length;n++){var r=t[n];this.suites_.push(this.summarize_(r))}},t.JsApiReporter.prototype.suites=function(){return this.suites_},t.JsApiReporter.prototype.summarize_=function(e){var n=e instanceof t.Suite,r={id:e.id,name:e.description,type:n?"suite":"spec",children:[]};if(n){var i=e.children();for(var s=0;s<i.length;s++)r.children.push(this.summarize_(i[s]))}return r},t.JsApiReporter.prototype.results=function(){return this.results_},t.JsApiReporter.prototype.resultsForSpec=function(e){return this.results_[e]},t.JsApiReporter.prototype.reportRunnerResults=function(e){this.finished=!0},t.JsApiReporter.prototype.reportSuiteResults=function(e){},t.JsApiReporter.prototype.reportSpecResults=function(e){this.results_[e.id]={messages:e.results().getItems(),result:e.results().failedCount>0?"failed":"passed"}},t.JsApiReporter.prototype.log=function(e){},t.JsApiReporter.prototype.resultsForSpecs=function(e){var t={};for(var n=0;n<e.length;n++){var r=e[n];t[r]=this.summarizeResult_(this.results_[r])}return t},t.JsApiReporter.prototype.summarizeResult_=function(e){var n=[],r=e.messages.length;for(var i=0;i<r;i++){var s=e.messages[i];n.push({text:s.type=="log"?s.toString():t.undefined,passed:s.passed?s.passed():!0,type:s.type,message:s.message,trace:{stack:s.passed&&!s.passed()?s.trace.stack:t.undefined}})}return{result:e.result,messages:n}},t.Matchers=function(e,t,n,r){this.env=e,this.actual=t,this.spec=n,this.isNot=r||!1,this.reportWasCalled_=!1},t.Matchers.pp=function(e){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!")},t.Matchers.prototype.report=function(e,t,n){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs")},t.Matchers.wrapInto_=function(e,n){for(var r in e){if(r=="report")continue;var i=e[r];n.prototype[r]=t.Matchers.matcherFn_(r,i)}},t.Matchers.matcherFn_=function(e,n){return function(){var r=t.util.argsToArray(arguments),i=n.apply(this,arguments);this.isNot&&(i=!i);if(this.reportWasCalled_)return i;var s;if(!i)if(this.message)s=this.message.apply(this,arguments),t.isArray_(s)&&(s=s[this.isNot?1:0]);else{var o=e.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()});s="Expected "+t.pp(this.actual)+(this.isNot?" not ":" ")+o;if(r.length>0)for(var u=0;u<r.length;u++)u>0&&(s+=","),s+=" "+t.pp(r[u]);s+="."}var a=new t.ExpectationResult({matcherName:e,passed:i,expected:r.length>1?r:r[0],actual:this.actual,message:s});return this.spec.addMatcherResult(a),t.undefined}},t.Matchers.prototype.toBe=function(e){return this.actual===e},t.Matchers.prototype.toNotBe=function(e){return this.actual!==e},t.Matchers.prototype.toEqual=function(e){return this.env.equals_(this.actual,e)},t.Matchers.prototype.toNotEqual=function(e){return!this.env.equals_(this.actual,e)},t.Matchers.prototype.toMatch=function(e){return(new RegExp(e)).test(this.actual)},t.Matchers.prototype.toNotMatch=function(e){return!(new RegExp(e)).test(this.actual)},t.Matchers.prototype.toBeDefined=function(){return this.actual!==t.undefined},t.Matchers.prototype.toBeUndefined=function(){return this.actual===t.undefined},t.Matchers.prototype.toBeNull=function(){return this.actual===null},t.Matchers.prototype.toBeTruthy=function(){return!!this.actual},t.Matchers.prototype.toBeFalsy=function(){return!this.actual},t.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0)throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");if(!t.isSpy(this.actual))throw new Error("Expected a spy, but got "+t.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]},this.actual.wasCalled},t.Matchers.prototype.wasCalled=t.Matchers.prototype.toHaveBeenCalled,t.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0)throw new Error("wasNotCalled does not take arguments");if(!t.isSpy(this.actual))throw new Error("Expected a spy, but got "+t.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]},!this.actual.wasCalled},t.Matchers.prototype.toHaveBeenCalledWith=function(){var e=t.util.argsToArray(arguments);if(!t.isSpy(this.actual))throw new Error("Expected a spy, but got "+t.pp(this.actual)+".");return this.message=function(){return this.actual.callCount===0?["Expected spy "+this.actual.identity+" to have been called with "+t.pp(e)+" but it was never called.","Expected spy "+this.actual.identity+" not to have been called with "+t.pp(e)+" but it was."]:["Expected spy "+this.actual.identity+" to have been called with "+t.pp(e)+" but was called with "+t.pp(this.actual.argsForCall),"Expected spy "+this.actual.identity+" not to have been called with "+t.pp(e)+" but was called with "+t.pp(this.actual.argsForCall)]},this.env.contains_(this.actual.argsForCall,e)},t.Matchers.prototype.wasCalledWith=t.Matchers.prototype.toHaveBeenCalledWith,t.Matchers.prototype.wasNotCalledWith=function(){var e=t.util.argsToArray(arguments);if(!t.isSpy(this.actual))throw new Error("Expected a spy, but got "+t.pp(this.actual)+".");return this.message=function(){return["Expected spy not to have been called with "+t.pp(e)+" but it was","Expected spy to have been called with "+t.pp(e)+" but it was"]},!this.env.contains_(this.actual.argsForCall,e)},t.Matchers.prototype.toContain=function(e){return this.env.contains_(this.actual,e)},t.Matchers.prototype.toNotContain=function(e){return!this.env.contains_(this.actual,e)},t.Matchers.prototype.toBeLessThan=function(e){return this.actual<e},t.Matchers.prototype.toBeGreaterThan=function(e){return this.actual>e},t.Matchers.prototype.toBeCloseTo=function(e,t){t!==0&&(t=t||2);var n=Math.pow(10,t),r=Math.round(this.actual*n);return e=Math.round(e*n),e==r},t.Matchers.prototype.toThrow=function(e){var n=!1,r;if(typeof this.actual!="function")throw new Error("Actual is not a function");try{this.actual()}catch(i){r=i}r&&(n=e===t.undefined||this.env.equals_(r.message||r,e.message||e));var s=this.isNot?"not ":"";return this.message=function(){return r&&(e===t.undefined||!this.env.equals_(r.message||r,e.message||e))?["Expected function "+s+"to throw",e?e.message||e:"an exception",", but it threw",r.message||r].join(" "):"Expected function to throw an exception."},n},t.Matchers.Any=function(e){this.expectedClass=e},t.Matchers.Any.prototype.jasmineMatches=function(e){return this.expectedClass==String?typeof e=="string"||e instanceof String:this.expectedClass==Number?typeof e=="number"||e instanceof Number:this.expectedClass==Function?typeof e=="function"||e instanceof Function:this.expectedClass==Object?typeof e=="object":e instanceof this.expectedClass},t.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"},t.Matchers.ObjectContaining=function(e){this.sample=e},t.Matchers.ObjectContaining.prototype.jasmineMatches=function(e,n,r){n=n||[],r=r||[];var i=t.getEnv(),s=function(e,n){return e!=null&&e[n]!==t.undefined};for(var o in this.sample)!s(e,o)&&s(this.sample,o)?n.push("expected has key '"+o+"', but missing from actual."):i.equals_(this.sample[o],e[o],n,r)||r.push("'"+o+"' was '"+(e[o]?t.util.htmlEscape(e[o].toString()):e[o])+"' in expected, but was '"+(this.sample[o]?t.util.htmlEscape(this.sample[o].toString()):this.sample[o])+"' in actual.");return n.length===0&&r.length===0},t.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+t.pp(this.sample)+")>"},t.FakeTimer=function(){this.reset();var e=this;e.setTimeout=function(t,n){return e.timeoutsMade++,e.scheduleFunction(e.timeoutsMade,t,n,!1),e.timeoutsMade},e.setInterval=function(t,n){return e.timeoutsMade++,e.scheduleFunction(e.timeoutsMade,t,n,!0),e.timeoutsMade},e.clearTimeout=function(n){e.scheduledFunctions[n]=t.undefined},e.clearInterval=function(n){e.scheduledFunctions[n]=t.undefined}},t.FakeTimer.prototype.reset=function(){this.timeoutsMade=0,this.scheduledFunctions={},this.nowMillis=0},t.FakeTimer.prototype.tick=function(e){var t=this.nowMillis,n=t+e;this.runFunctionsWithinRange(t,n),this.nowMillis=n},t.FakeTimer.prototype.runFunctionsWithinRange=function(e,n){var r,i=[];for(var s in this.scheduledFunctions)r=this.scheduledFunctions[s],r!=t.undefined&&r.runAtMillis>=e&&r.runAtMillis<=n&&(i.push(r),this.scheduledFunctions[s]=t.undefined);if(i.length>0){i.sort(function(e,t){return e.runAtMillis-t.runAtMillis});for(var o=0;o<i.length;++o)try{var u=i[o];this.nowMillis=u.runAtMillis,u.funcToCall(),u.recurring&&this.scheduleFunction(u.timeoutKey,u.funcToCall,u.millis,!0)}catch(a){}this.runFunctionsWithinRange(e,n)}},t.FakeTimer.prototype.scheduleFunction=function(e,t,n,r){this.scheduledFunctions[e]={runAtMillis:this.nowMillis+n,funcToCall:t,recurring:r,timeoutKey:e,millis:n}},t.Clock={defaultFakeTimer:new t.FakeTimer,reset:function(){t.Clock.assertInstalled(),t.Clock.defaultFakeTimer.reset()},tick:function(e){t.Clock.assertInstalled(),t.Clock.defaultFakeTimer.tick(e)},runFunctionsWithinRange:function(e,n){t.Clock.defaultFakeTimer.runFunctionsWithinRange(e,n)},scheduleFunction:function(e,n,r,i){t.Clock.defaultFakeTimer.scheduleFunction(e,n,r,i)},useMock:function(){if(!t.Clock.isInstalled()){var e=t.getEnv().currentSpec;e.after(t.Clock.uninstallMock),t.Clock.installMock()}},installMock:function(){t.Clock.installed=t.Clock.defaultFakeTimer},uninstallMock:function(){t.Clock.assertInstalled(),t.Clock.installed=t.Clock.real},real:{setTimeout:t.getGlobal().setTimeout,clearTimeout:t.getGlobal().clearTimeout,setInterval:t.getGlobal().setInterval,clearInterval:t.getGlobal().clearInterval},assertInstalled:function(){if(!t.Clock.isInstalled())throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()")},isInstalled:function(){return t.Clock.installed==t.Clock.defaultFakeTimer},installed:null},t.Clock.installed=t.Clock.real,t.getGlobal().setTimeout=function(e,n){return t.Clock.installed.setTimeout.apply?t.Clock.installed.setTimeout.apply(this,arguments):t.Clock.installed.setTimeout(e,n)},t.getGlobal().setInterval=function(e,n){return t.Clock.installed.setInterval.apply?t.Clock.installed.setInterval.apply(this,arguments):t.Clock.installed.setInterval(e,n)},t.getGlobal().clearTimeout=function(e){return t.Clock.installed.clearTimeout.apply?t.Clock.installed.clearTimeout.apply(this,arguments):t.Clock.installed.clearTimeout(e)},t.getGlobal().clearInterval=function(e){return t.Clock.installed.clearTimeout.apply?t.Clock.installed.clearInterval.apply(this,arguments):t.Clock.installed.clearInterval(e)},t.MultiReporter=function(){this.subReporters_=[]},t.util.inherit(t.MultiReporter,t.Reporter),t.MultiReporter.prototype.addReporter=function(e){this.subReporters_.push(e)},function(){var e=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"];for(var n=0;n<e.length;n++){var r=e[n];t.MultiReporter.prototype[r]=function(e){return function(){for(var t=0;t<this.subReporters_.length;t++){var n=this.subReporters_[t];n[e]&&n[e].apply(n,arguments)}}}(r)}}(),t.NestedResults=function(){this.totalCount=0,this.passedCount=0,this.failedCount=0,this.skipped=!1,this.items_=[]},t.NestedResults.prototype.rollupCounts=function(e){this.totalCount+=e.totalCount,this.passedCount+=e.passedCount,this.failedCount+=e.failedCount},t.NestedResults.prototype.log=function(e){this.items_.push(new t.MessageResult(e))},t.NestedResults.prototype.getItems=function(){return this.items_},t.NestedResults.prototype.addResult=function(e){e.type!="log"&&(e.items_?this.rollupCounts(e):(this.totalCount++,e.passed()?this.passedCount++:this.failedCount++)),this.items_.push(e)},t.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount},t.PrettyPrinter=function(){this.ppNestLevel_=0},t.PrettyPrinter.prototype.format=function(e){if(this.ppNestLevel_>40)throw new Error("jasmine.PrettyPrinter: format() nested too deeply!");this.ppNestLevel_++;try{e===t.undefined?this.emitScalar("undefined"):e===null?this.emitScalar("null"):e===t.getGlobal()?this.emitScalar("<global>"):e.jasmineToString?this.emitScalar(e.jasmineToString()):typeof e=="string"?this.emitString(e):t.isSpy(e)?this.emitScalar("spy on "+e.identity):e instanceof RegExp?this.emitScalar(e.toString()):typeof e=="function"?this.emitScalar("Function"):typeof e.nodeType=="number"?this.emitScalar("HTMLNode"):e instanceof Date?this.emitScalar("Date("+e+")"):e.__Jasmine_been_here_before__?this.emitScalar("<circular reference: "+(t.isArray_(e)?"Array":"Object")+">"):t.isArray_(e)||typeof e=="object"?(e.__Jasmine_been_here_before__=!0,t.isArray_(e)?this.emitArray(e):this.emitObject(e),delete e.__Jasmine_been_here_before__):this.emitScalar(e.toString())}finally{this.ppNestLevel_--}},t.PrettyPrinter.prototype.iterateObject=function(e,n){for(var r in e){if(r=="__Jasmine_been_here_before__")continue;n(r,e.__lookupGetter__?e.__lookupGetter__(r)!==t.undefined&&e.__lookupGetter__(r)!==null:!1)}},t.PrettyPrinter.prototype.emitArray=t.unimplementedMethod_,t.PrettyPrinter.prototype.emitObject=t.unimplementedMethod_,t.PrettyPrinter.prototype.emitScalar=t.unimplementedMethod_,t.PrettyPrinter.prototype.emitString=t.unimplementedMethod_,t.StringPrettyPrinter=function(){t.PrettyPrinter.call(this),this.string=""},t.util.inherit(t.StringPrettyPrinter,t.PrettyPrinter),t.StringPrettyPrinter.prototype.emitScalar=function(e){this.append(e)},t.StringPrettyPrinter.prototype.emitString=function(e){this.append("'"+e+"'")},t.StringPrettyPrinter.prototype.emitArray=function(e){this.append("[ ");for(var t=0;t<e.length;t++)t>0&&this.append(", "),this.format(e[t]);this.append(" ]")},t.StringPrettyPrinter.prototype.emitObject=function(e){var t=this;this.append("{ ");var n=!0;this.iterateObject(e,function(r,i){n?n=!1:t.append(", "),t.append(r),t.append(" : "),i?t.append("<getter>"):t.format(e[r])}),this.append(" }")},t.StringPrettyPrinter.prototype.append=function(e){this.string+=e},t.Queue=function(e){this.env=e,this.blocks=[],this.running=!1,this.index=0,this.offset=0,this.abort=!1},t.Queue.prototype.addBefore=function(e){this.blocks.unshift(e)},t.Queue.prototype.add=function(e){this.blocks.push(e)},t.Queue.prototype.insertNext=function(e){this.blocks.splice(this.index+this.offset+1,0,e),this.offset++},t.Queue.prototype.start=function(e){this.running=!0,this.onComplete=e,this.next_()},t.Queue.prototype.isRunning=function(){return this.running},t.Queue.LOOP_DONT_RECURSE=!0,t.Queue.prototype.next_=function(){var e=this,n=!0;while(n){n=!1;if(e.index<e.blocks.length&&!this.abort){var r=!0,i=!1,s=function(){if(t.Queue.LOOP_DONT_RECURSE&&r){i=!0;return}e.blocks[e.index].abort&&(e.abort=!0),e.offset=0,e.index++;var s=(new Date).getTime();e.env.updateInterval&&s-e.env.lastUpdate>e.env.updateInterval?(e.env.lastUpdate=s,e.env.setTimeout(function(){e.next_()},0)):t.Queue.LOOP_DONT_RECURSE&&i?n=!0:e.next_()};e.blocks[e.index].execute(s),r=!1,i&&s()}else e.running=!1,e.onComplete&&e.onComplete()}},t.Queue.prototype.results=function(){var e=new t.NestedResults;for(var n=0;n<this.blocks.length;n++)this.blocks[n].results&&e.addResult(this.blocks[n].results());return e},t.Runner=function(e){var n=this;n.env=e,n.queue=new t.Queue(e),n.before_=[],n.after_=[],n.suites_=[]},t.Runner.prototype.execute=function(){var e=this;e.env.reporter.reportRunnerStarting&&e.env.reporter.reportRunnerStarting(this),e.queue.start(function(){e.finishCallback()})},t.Runner.prototype.beforeEach=function(e){e.typeName="beforeEach",this.before_.splice(0,0,e)},t.Runner.prototype.afterEach=function(e){e.typeName="afterEach",this.after_.splice(0,0,e)},t.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)},t.Runner.prototype.addSuite=function(e){this.suites_.push(e)},t.Runner.prototype.add=function(e){e instanceof t.Suite&&this.addSuite(e),this.queue.add(e)},t.Runner.prototype.specs=function(){var e=this.suites(),t=[];for(var n=0;n<e.length;n++)t=t.concat(e[n].specs());return t},t.Runner.prototype.suites=function(){return this.suites_},t.Runner.prototype.topLevelSuites=function(){var e=[];for(var t=0;t<this.suites_.length;t++)this.suites_[t].parentSuite||e.push(this.suites_[t]);return e},t.Runner.prototype.results=function(){return this.queue.results()},t.Spec=function(e,n,r){if(!e)throw new Error("jasmine.Env() required");if(!n)throw new Error("jasmine.Suite() required");var i=this;i.id=e.nextSpecId?e.nextSpecId():null,i.env=e,i.suite=n,i.description=r,i.queue=new t.Queue(e),i.afterCallbacks=[],i.spies_=[],i.results_=new t.NestedResults,i.results_.description=r,i.matchersClass=null},t.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."},t.Spec.prototype.results=function(){return this.results_},t.Spec.prototype.log=function(){return this.results_.log(arguments)},t.Spec.prototype.runs=function(e){var n=new t.Block(this.env,e,this);return this.addToQueue(n),this},t.Spec.prototype.addToQueue=function(e){this.queue.isRunning()?this.queue.insertNext(e):this.queue.add(e)},t.Spec.prototype.addMatcherResult=function(e){this.results_.addResult(e)},t.Spec.prototype.expect=function(e){var t=new(this.getMatchersClass_())(this.env,e,this);return t.not=new(this.getMatchersClass_())(this.env,e,this,!0),t},t.Spec.prototype.waits=function(e){var n=new t.WaitsBlock(this.env,e,this);return this.addToQueue(n),this},t.Spec.prototype.waitsFor=function(e,n,r){var i=null,s=null,o=null;for(var u=0;u<arguments.length;u++){var a=arguments[u];switch(typeof a){case"function":i=a;break;case"string":s=a;break;case"number":o=a}}var f=new t.WaitsForBlock(this.env,o,i,s,this);return this.addToQueue(f),this},t.Spec.prototype.fail=function(e){var n=new t.ExpectationResult({passed:!1,message:e?t.util.formatException(e):"Exception",trace:{stack:e.stack}});this.results_.addResult(n)},t.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass},t.Spec.prototype.addMatchers=function(e){var n=this.getMatchersClass_(),r=function(){n.apply(this,arguments)};t.util.inherit(r,n),t.Matchers.wrapInto_(e,r),this.matchersClass=r},t.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)},t.Spec.prototype.finish=function(e){this.removeAllSpies(),this.finishCallback(),e&&e()},t.Spec.prototype.after=function(e){this.queue.isRunning()?this.queue.add(new t.Block(this.env,e,this)):this.afterCallbacks.unshift(e)},t.Spec.prototype.execute=function(e){var t=this;if(!t.env.specFilter(t)){t.results_.skipped=!0,t.finish(e);return}this.env.reporter.reportSpecStarting(this),t.env.currentSpec=t,t.addBeforesAndAftersToQueue(),t.queue.start(function(){t.finish(e)})},t.Spec.prototype.addBeforesAndAftersToQueue=function(){var e=this.env.currentRunner(),n;for(var r=this.suite;r;r=r.parentSuite)for(n=0;n<r.before_.length;n++)this.queue.addBefore(new t.Block(this.env,r.before_[n],this));for(n=0;n<e.before_.length;n++)this.queue.addBefore(new t.Block(this.env,e.before_[n],this));for(n=0;n<this.afterCallbacks.length;n++)this.queue.add(new t.Block(this.env,this.afterCallbacks[n],this));for(r=this.suite;r;r=r.parentSuite)for(n=0;n<r.after_.length;n++)this.queue.add(new t.Block(this.env,r.after_[n],this));for(n=0;n<e.after_.length;n++)this.queue.add(new t.Block(this.env,e.after_[n],this))},t.Spec.prototype.explodes=function(){throw"explodes function should not have been called"},t.Spec.prototype.spyOn=function(e,n,r){if(e==t.undefined)throw"spyOn could not find an object to spy upon for "+n+"()";if(!r&&e[n]===t.undefined)throw n+"() method does not exist";if(!r&&e[n]&&e[n].isSpy)throw new Error(n+" has already been spied upon");var i=t.createSpy(n);return this.spies_.push(i),i.baseObj=e,i.methodName=n,i.originalValue=e[n],e[n]=i,i},t.Spec.prototype.removeAllSpies=function(){for(var e=0;e<this.spies_.length;e++){var t=this.spies_[e];t.baseObj[t.methodName]=t.originalValue}this.spies_=[]},t.Suite=function(e,n,r,i){var s=this;s.id=e.nextSuiteId?e.nextSuiteId():null,s.description=n,s.queue=new t.Queue(e),s.parentSuite=i,s.env=e,s.before_=[],s.after_=[],s.children_=[],s.suites_=[],s.specs_=[]},t.Suite.prototype.getFullName=function(){var e=this.description;for(var t=this.parentSuite;t;t=t.parentSuite)e=t.description+" "+e;return e},t.Suite.prototype.finish=function(e){this.env.reporter.reportSuiteResults(this),this.finished=!0,typeof e=="function"&&e()},t.Suite.prototype.beforeEach=function(e){e.typeName="beforeEach",this.before_.unshift(e)},t.Suite.prototype.afterEach=function(e){e.typeName="afterEach",this.after_.unshift(e)},t.Suite.prototype.results=function(){return this.queue.results()},t.Suite.prototype.add=function(e){this.children_.push(e),e instanceof t.Suite?(this.suites_.push(e),this.env.currentRunner().addSuite(e)):this.specs_.push(e),this.queue.add(e)},t.Suite.prototype.specs=function(){return this.specs_},t.Suite.prototype.suites=function(){return this.suites_},t.Suite.prototype.children=function(){return this.children_},t.Suite.prototype.execute=function(e){var t=this;this.queue.start(function(){t.finish(e)})},t.WaitsBlock=function(e,n,r){this.timeout=n,t.Block.call(this,e,null,r)},t.util.inherit(t.WaitsBlock,t.Block),t.WaitsBlock.prototype.execute=function(e){t.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms..."),this.env.setTimeout(function(){e()},this.timeout)},t.WaitsForBlock=function(e,n,r,i,s){this.timeout=n||e.defaultTimeoutInterval,this.latchFunction=r,this.message=i,this.totalTimeSpentWaitingForLatch=0,t.Block.call(this,e,null,s)},t.util.inherit(t.WaitsForBlock,t.Block),t.WaitsForBlock.TIMEOUT_INCREMENT=10,t.WaitsForBlock.prototype.execute=function(e){t.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"));var n;try{n=this.latchFunction.apply(this.spec)}catch(r){this.spec.fail(r),e();return}if(n)e();else if(this.totalTimeSpentWaitingForLatch>=this.timeout){var i="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen");this.spec.fail({name:"timeout",message:i}),this.abort=!0,e()}else{this.totalTimeSpentWaitingForLatch+=t.WaitsForBlock.TIMEOUT_INCREMENT;var s=this;this.env.setTimeout(function(){s.execute(e)},t.WaitsForBlock.TIMEOUT_INCREMENT)}},t.version_={major:1,minor:2,build:0,revision:1337005947};